type_info:
  documentationLink: https://developers.google.com/compute/docs/reference/latest/
  kind: deploymentmanager#typeInfo
  name: securityPolicies
  schema:
    input:
      $schema: http://json-schema.org/draft-03/schema#
      mainSchema:
        properties:
          associations:
            description: A list of assocations that belong to this policy.
            items:
              $ref: '#/schemas/SecurityPolicyAssociation'
            type: array
          description:
            description: An optional description of this resource. Provide this property
              when you create the resource.
            type: string
          fingerprint:
            description: |-
              Specifies a fingerprint for this resource, which is essentially a hash of the metadata's contents and used for optimistic locking. The fingerprint is initially generated by Compute Engine and changes after every request to modify or update metadata. You must always provide an up-to-date fingerprint hash in order to update or change metadata, otherwise the request will fail with error 412 conditionNotMet.

              To see the latest fingerprint, make get() request to the security policy.
            format: byte
            type: string
          labelFingerprint:
            description: |-
              A fingerprint for the labels being applied to this security policy, which is essentially a hash of the labels set used for optimistic locking. The fingerprint is initially generated by Compute Engine and changes after every request to modify or update labels. You must always provide an up-to-date fingerprint hash in order to update or change labels.

              To see the latest fingerprint, make get() request to the security policy.
            format: byte
            type: string
          labels:
            additionalProperties:
              type: string
            description: Labels to apply to this security policy resource. These can
              be later modified by the setLabels method. Each label key/value must
              comply with RFC1035. Label values may be empty.
            type: object
          name:
            description: Name of the resource. Provided by the client when the resource
              is created. The name must be 1-63 characters long, and comply with RFC1035.
              Specifically, the name must be 1-63 characters long and match the regular
              expression `[a-z]([-a-z0-9]*[a-z0-9])?` which means the first character
              must be a lowercase letter, and all following characters must be a dash,
              lowercase letter, or digit, except the last character, which cannot
              be a dash.
            pattern: '[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?'
            type: string
          requestId:
            description: |-
              An optional request ID to identify requests. Specify a unique request ID so that if you must retry your request, the server will know to ignore the request if it has already been completed.

              For example, consider a situation where you make an initial request and the request times out. If you make the request again with the same request ID, the server can check if original operation with the same request ID was received, and if so, will ignore the second request. This prevents clients from accidentally creating duplicate commitments.

              The request ID must be a valid UUID with the exception that zero UUID is not supported (00000000-0000-0000-0000-000000000000).
            location: query
            type: string
          rules:
            description: A list of rules that belong to this policy. There must always
              be a default rule (rule with priority 2147483647 and match "*"). If
              no rules are provided when creating a security policy, a default rule
              with action "allow" will be added.
            items:
              $ref: '#/schemas/SecurityPolicyRule'
            type: array
          type:
            description: The type indicates the intended use of the security policy.
              CLOUD_ARMOR policies apply to backend services. FIREWALL policies apply
              to organizations.
            enum:
            - CLOUD_ARMOR
            - FIREWALL
            enumDescriptions:
            - ''
            - ''
            type: string
          validateOnly:
            description: If true, the request will not be committed.
            location: query
            type: boolean
        type: object
      methodName: insert
      schemas:
        Expr:
          description: |-
            Represents an expression text. Example:

            title: "User account presence" description: "Determines whether the request has a user account" expression: "size(request.user) > 0"
          id: Expr
          properties:
            description:
              description: An optional description of the expression. This is a longer
                text which describes the expression, e.g. when hovered over it in
                a UI.
              type: string
            expression:
              description: |-
                Textual representation of an expression in Common Expression Language syntax.

                The application context of the containing message determines which well-known feature set of CEL is supported.
              type: string
            location:
              description: An optional string indicating the location of the expression
                for error reporting, e.g. a file name and a position in the file.
              type: string
            title:
              description: An optional title for the expression, i.e. a short string
                describing its purpose. This can be used e.g. in UIs which allow to
                enter the expression.
              type: string
          type: object
        SecurityPolicy:
          description: A security policy is comprised of one or more rules. It can
            also be associated with one or more 'targets'. (== resource_for v1.securityPolicies
            ==) (== resource_for beta.securityPolicies ==)
          id: SecurityPolicy
          properties:
            associations:
              description: A list of assocations that belong to this policy.
              items:
                $ref: '#/schemas/SecurityPolicyAssociation'
              type: array
            description:
              description: An optional description of this resource. Provide this
                property when you create the resource.
              type: string
            fingerprint:
              description: |-
                Specifies a fingerprint for this resource, which is essentially a hash of the metadata's contents and used for optimistic locking. The fingerprint is initially generated by Compute Engine and changes after every request to modify or update metadata. You must always provide an up-to-date fingerprint hash in order to update or change metadata, otherwise the request will fail with error 412 conditionNotMet.

                To see the latest fingerprint, make get() request to the security policy.
              format: byte
              type: string
            labelFingerprint:
              description: |-
                A fingerprint for the labels being applied to this security policy, which is essentially a hash of the labels set used for optimistic locking. The fingerprint is initially generated by Compute Engine and changes after every request to modify or update labels. You must always provide an up-to-date fingerprint hash in order to update or change labels.

                To see the latest fingerprint, make get() request to the security policy.
              format: byte
              type: string
            labels:
              additionalProperties:
                type: string
              description: Labels to apply to this security policy resource. These
                can be later modified by the setLabels method. Each label key/value
                must comply with RFC1035. Label values may be empty.
              type: object
            name:
              description: Name of the resource. Provided by the client when the resource
                is created. The name must be 1-63 characters long, and comply with
                RFC1035. Specifically, the name must be 1-63 characters long and match
                the regular expression `[a-z]([-a-z0-9]*[a-z0-9])?` which means the
                first character must be a lowercase letter, and all following characters
                must be a dash, lowercase letter, or digit, except the last character,
                which cannot be a dash.
              pattern: '[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?'
              type: string
            rules:
              description: A list of rules that belong to this policy. There must
                always be a default rule (rule with priority 2147483647 and match
                "*"). If no rules are provided when creating a security policy, a
                default rule with action "allow" will be added.
              items:
                $ref: '#/schemas/SecurityPolicyRule'
              type: array
            type:
              description: The type indicates the intended use of the security policy.
                CLOUD_ARMOR policies apply to backend services. FIREWALL policies
                apply to organizations.
              enum:
              - CLOUD_ARMOR
              - FIREWALL
              enumDescriptions:
              - ''
              - ''
              type: string
          type: object
        SecurityPolicyAssociation:
          id: SecurityPolicyAssociation
          properties:
            attachmentId:
              description: The resource that the security policy is attached to.
              type: string
            name:
              description: The name for an association.
              type: string
          type: object
        SecurityPolicyRule:
          description: Represents a rule that describes one or more match conditions
            along with the action to be taken when traffic matches this condition
            (allow or deny).
          id: SecurityPolicyRule
          properties:
            action:
              description: The Action to preform when the client connection triggers
                the rule. Can currently be either "allow" or "deny()" where valid
                values for status are 403, 404, and 502.
              type: string
            description:
              description: An optional description of this resource. Provide this
                property when you create the resource.
              type: string
            direction:
              description: The direction in which this rule applies. This field may
                only be specified when versioned_expr is set to FIREWALL.
              enum:
              - EGRESS
              - INGRESS
              enumDescriptions:
              - ''
              - ''
              type: string
            enableLogging:
              description: |-
                Denotes whether to enable logging for a particular rule. If logging is enabled, logs will be exported to the configured export destination in Stackdriver. Logs may be exported to BigQuery or Pub/Sub. Note: you cannot enable logging on "goto_next" rules.

                This field may only be specified when the versioned_expr is set to FIREWALL.
              type: boolean
            match:
              $ref: '#/schemas/SecurityPolicyRuleMatcher'
              description: A match condition that incoming traffic is evaluated against.
                If it evaluates to true, the corresponding ?action? is enforced.
            preview:
              description: If set to true, the specified action is not enforced.
              type: boolean
            priority:
              description: An integer indicating the priority of a rule in the list.
                The priority must be a positive value between 0 and 2147483647. Rules
                are evaluated from highest to lowest priority where 0 is the highest
                priority and 2147483647 is the lowest prority.
              format: int32
              type: integer
            rateLimitOptions:
              $ref: '#/schemas/SecurityPolicyRuleRateLimitOptions'
              description: Must be specified if the action is "rate_based_blacklist"
                or "throttle". Cannot be specified for any other actions.
            targetResources:
              description: |-
                A list of network resource URLs to which this rule applies. This field allows you to control which network?s VMs get this rule. If this field is left blank, all VMs within the organization will receive the rule.

                This field may only be specified when versioned_expr is set to FIREWALL.
              items:
                type: string
              type: array
          type: object
        SecurityPolicyRuleMatcher:
          description: Represents a match condition that incoming traffic is evaluated
            against. Exactly one field must be specified.
          id: SecurityPolicyRuleMatcher
          properties:
            config:
              $ref: '#/schemas/SecurityPolicyRuleMatcherConfig'
              description: The configuration options available when specifying versioned_expr.
                This field must be specified if versioned_expr is specified and cannot
                be specified if versioned_expr is not specified.
            expr:
              $ref: '#/schemas/Expr'
              description: User defined CEVAL expression. A CEVAL expression is used
                to specify match criteria such as origin.ip, source.region_code and
                contents in the request header.
            versionedExpr:
              description: 'Preconfigured versioned expression. If this field is specified,
                config must also be specified. Available preconfigured expressions
                along with their requirements are: SRC_IPS_V1 - must specify the corresponding
                src_ip_range field in config.'
              enum:
              - FIREWALL
              - SRC_IPS_V1
              enumDescriptions:
              - ''
              - ''
              type: string
          type: object
        SecurityPolicyRuleMatcherConfig:
          id: SecurityPolicyRuleMatcherConfig
          properties:
            destIpRanges:
              description: |-
                CIDR IP address range.

                This field may only be specified when versioned_expr is set to FIREWALL.
              items:
                type: string
              type: array
            destPorts:
              description: |-
                Pairs of IP protocols and ports that the rule should match.

                This field may only be specified when versioned_expr is set to FIREWALL.
              items:
                $ref: '#/schemas/SecurityPolicyRuleMatcherConfigDestinationPort'
              type: array
            srcIpRanges:
              description: CIDR IP address range.
              items:
                type: string
              type: array
          type: object
        SecurityPolicyRuleMatcherConfigDestinationPort:
          id: SecurityPolicyRuleMatcherConfigDestinationPort
          properties:
            ipProtocol:
              description: The IP protocol to which this rule applies. The protocol
                type is required when creating a firewall rule. This value can either
                be one of the following well known protocol strings (tcp, udp, icmp,
                esp, ah, ipip, sctp), or the IP protocol number.
              type: string
            ports:
              description: |-
                An optional list of ports to which this rule applies. This field is only applicable for UDP or TCP protocol. Each entry must be either an integer or a range. If not specified, this rule applies to connections through any port.

                Example inputs include: ["22"], ["80","443"], and ["12345-12349"].

                This field may only be specified when versioned_expr is set to FIREWALL.
              items:
                type: string
              type: array
          type: object
        SecurityPolicyRuleRateLimitOptions:
          id: SecurityPolicyRuleRateLimitOptions
          properties:
            blockDuration:
              description: Can only be specifed if the action for the rule is "rate_based_blacklist"
                If specified, determines the time (in seconds) the traffic will continue
                to be blocked by the rate limit after the rate falls below the threshold.
                The default value is 0 seconds.
              format: int32
              type: integer
            conformAction:
              description: Action to take when requests are under the given threshold.
                When requests are throttled, this is also the action for all requests
                which are not dropped. Valid options are "allow", "fairshare", and
                "drop_overload".
              type: string
            enforceOnKey:
              description: Determines the key to enforce the threshold_rps limit on.
                If key is "IP", each IP has this limit enforced separately, whereas
                "ALL_IPs" means a single limit is applied to all requests matching
                this rule.
              enum:
              - ALL_IPS
              - IP
              enumDescriptions:
              - ''
              - ''
              type: string
            exceedAction:
              description: When a request is denied, returns the HTTP response code
                specified. Valid options are "deny()" where valid values for status
                are 403, 404, 429, and 502.
              type: string
            thresholdRps:
              description: Rate in requests per second at which to begin ratelimiting.
              format: int32
              type: integer
          type: object
    output:
      $schema: http://json-schema.org/draft-03/schema#
      mainSchema:
        $ref: '#/schemas/SecurityPolicy'
      methodName: get
      schemas:
        Expr:
          description: |-
            Represents an expression text. Example:

            title: "User account presence" description: "Determines whether the request has a user account" expression: "size(request.user) > 0"
          id: Expr
          properties:
            description:
              description: An optional description of the expression. This is a longer
                text which describes the expression, e.g. when hovered over it in
                a UI.
              type: string
            expression:
              description: |-
                Textual representation of an expression in Common Expression Language syntax.

                The application context of the containing message determines which well-known feature set of CEL is supported.
              type: string
            location:
              description: An optional string indicating the location of the expression
                for error reporting, e.g. a file name and a position in the file.
              type: string
            title:
              description: An optional title for the expression, i.e. a short string
                describing its purpose. This can be used e.g. in UIs which allow to
                enter the expression.
              type: string
          type: object
        SecurityPolicy:
          description: A security policy is comprised of one or more rules. It can
            also be associated with one or more 'targets'. (== resource_for v1.securityPolicies
            ==) (== resource_for beta.securityPolicies ==)
          id: SecurityPolicy
          properties:
            associations:
              description: A list of assocations that belong to this policy.
              items:
                $ref: '#/schemas/SecurityPolicyAssociation'
              type: array
            creationTimestamp:
              description: '[Output Only] Creation timestamp in RFC3339 text format.'
              type: string
            description:
              description: An optional description of this resource. Provide this
                property when you create the resource.
              type: string
            fingerprint:
              description: |-
                Specifies a fingerprint for this resource, which is essentially a hash of the metadata's contents and used for optimistic locking. The fingerprint is initially generated by Compute Engine and changes after every request to modify or update metadata. You must always provide an up-to-date fingerprint hash in order to update or change metadata, otherwise the request will fail with error 412 conditionNotMet.

                To see the latest fingerprint, make get() request to the security policy.
              format: byte
              type: string
            id:
              description: '[Output Only] The unique identifier for the resource.
                This identifier is defined by the server.'
              format: uint64
              type: string
            kind:
              default: compute#securityPolicy
              description: '[Output only] Type of the resource. Always compute#securityPolicyfor
                security policies'
              type: string
            labelFingerprint:
              description: |-
                A fingerprint for the labels being applied to this security policy, which is essentially a hash of the labels set used for optimistic locking. The fingerprint is initially generated by Compute Engine and changes after every request to modify or update labels. You must always provide an up-to-date fingerprint hash in order to update or change labels.

                To see the latest fingerprint, make get() request to the security policy.
              format: byte
              type: string
            labels:
              additionalProperties:
                type: string
              description: Labels to apply to this security policy resource. These
                can be later modified by the setLabels method. Each label key/value
                must comply with RFC1035. Label values may be empty.
              type: object
            name:
              description: Name of the resource. Provided by the client when the resource
                is created. The name must be 1-63 characters long, and comply with
                RFC1035. Specifically, the name must be 1-63 characters long and match
                the regular expression `[a-z]([-a-z0-9]*[a-z0-9])?` which means the
                first character must be a lowercase letter, and all following characters
                must be a dash, lowercase letter, or digit, except the last character,
                which cannot be a dash.
              pattern: '[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?'
              type: string
            ruleTupleCount:
              description: '[Output Only] Total count of all security policy rule
                tuples. A security policy can not exceed a set number of tuples.'
              format: int32
              type: integer
            rules:
              description: A list of rules that belong to this policy. There must
                always be a default rule (rule with priority 2147483647 and match
                "*"). If no rules are provided when creating a security policy, a
                default rule with action "allow" will be added.
              items:
                $ref: '#/schemas/SecurityPolicyRule'
              type: array
            selfLink:
              description: '[Output Only] Server-defined URL for the resource.'
              type: string
            selfLinkWithId:
              description: '[Output Only] Server-defined URL for this resource with
                the resource id.'
              type: string
            type:
              description: The type indicates the intended use of the security policy.
                CLOUD_ARMOR policies apply to backend services. FIREWALL policies
                apply to organizations.
              enum:
              - CLOUD_ARMOR
              - FIREWALL
              enumDescriptions:
              - ''
              - ''
              type: string
          type: object
        SecurityPolicyAssociation:
          id: SecurityPolicyAssociation
          properties:
            attachmentId:
              description: The resource that the security policy is attached to.
              type: string
            name:
              description: The name for an association.
              type: string
            securityPolicyId:
              description: '[Output Only] The security policy ID of the association.'
              type: string
          type: object
        SecurityPolicyRule:
          description: Represents a rule that describes one or more match conditions
            along with the action to be taken when traffic matches this condition
            (allow or deny).
          id: SecurityPolicyRule
          properties:
            action:
              description: The Action to preform when the client connection triggers
                the rule. Can currently be either "allow" or "deny()" where valid
                values for status are 403, 404, and 502.
              type: string
            description:
              description: An optional description of this resource. Provide this
                property when you create the resource.
              type: string
            direction:
              description: The direction in which this rule applies. This field may
                only be specified when versioned_expr is set to FIREWALL.
              enum:
              - EGRESS
              - INGRESS
              enumDescriptions:
              - ''
              - ''
              type: string
            enableLogging:
              description: |-
                Denotes whether to enable logging for a particular rule. If logging is enabled, logs will be exported to the configured export destination in Stackdriver. Logs may be exported to BigQuery or Pub/Sub. Note: you cannot enable logging on "goto_next" rules.

                This field may only be specified when the versioned_expr is set to FIREWALL.
              type: boolean
            kind:
              default: compute#securityPolicyRule
              description: '[Output only] Type of the resource. Always compute#securityPolicyRule
                for security policy rules'
              type: string
            match:
              $ref: '#/schemas/SecurityPolicyRuleMatcher'
              description: A match condition that incoming traffic is evaluated against.
                If it evaluates to true, the corresponding ?action? is enforced.
            preview:
              description: If set to true, the specified action is not enforced.
              type: boolean
            priority:
              description: An integer indicating the priority of a rule in the list.
                The priority must be a positive value between 0 and 2147483647. Rules
                are evaluated from highest to lowest priority where 0 is the highest
                priority and 2147483647 is the lowest prority.
              format: int32
              type: integer
            rateLimitOptions:
              $ref: '#/schemas/SecurityPolicyRuleRateLimitOptions'
              description: Must be specified if the action is "rate_based_blacklist"
                or "throttle". Cannot be specified for any other actions.
            ruleTupleCount:
              description: '[Output Only] Calculation of the complexity of a single
                firewall security policy rule.'
              format: int32
              type: integer
            targetResources:
              description: |-
                A list of network resource URLs to which this rule applies. This field allows you to control which network?s VMs get this rule. If this field is left blank, all VMs within the organization will receive the rule.

                This field may only be specified when versioned_expr is set to FIREWALL.
              items:
                type: string
              type: array
          type: object
        SecurityPolicyRuleMatcher:
          description: Represents a match condition that incoming traffic is evaluated
            against. Exactly one field must be specified.
          id: SecurityPolicyRuleMatcher
          properties:
            config:
              $ref: '#/schemas/SecurityPolicyRuleMatcherConfig'
              description: The configuration options available when specifying versioned_expr.
                This field must be specified if versioned_expr is specified and cannot
                be specified if versioned_expr is not specified.
            expr:
              $ref: '#/schemas/Expr'
              description: User defined CEVAL expression. A CEVAL expression is used
                to specify match criteria such as origin.ip, source.region_code and
                contents in the request header.
            versionedExpr:
              description: 'Preconfigured versioned expression. If this field is specified,
                config must also be specified. Available preconfigured expressions
                along with their requirements are: SRC_IPS_V1 - must specify the corresponding
                src_ip_range field in config.'
              enum:
              - FIREWALL
              - SRC_IPS_V1
              enumDescriptions:
              - ''
              - ''
              type: string
          type: object
        SecurityPolicyRuleMatcherConfig:
          id: SecurityPolicyRuleMatcherConfig
          properties:
            destIpRanges:
              description: |-
                CIDR IP address range.

                This field may only be specified when versioned_expr is set to FIREWALL.
              items:
                type: string
              type: array
            destPorts:
              description: |-
                Pairs of IP protocols and ports that the rule should match.

                This field may only be specified when versioned_expr is set to FIREWALL.
              items:
                $ref: '#/schemas/SecurityPolicyRuleMatcherConfigDestinationPort'
              type: array
            srcIpRanges:
              description: CIDR IP address range.
              items:
                type: string
              type: array
          type: object
        SecurityPolicyRuleMatcherConfigDestinationPort:
          id: SecurityPolicyRuleMatcherConfigDestinationPort
          properties:
            ipProtocol:
              description: The IP protocol to which this rule applies. The protocol
                type is required when creating a firewall rule. This value can either
                be one of the following well known protocol strings (tcp, udp, icmp,
                esp, ah, ipip, sctp), or the IP protocol number.
              type: string
            ports:
              description: |-
                An optional list of ports to which this rule applies. This field is only applicable for UDP or TCP protocol. Each entry must be either an integer or a range. If not specified, this rule applies to connections through any port.

                Example inputs include: ["22"], ["80","443"], and ["12345-12349"].

                This field may only be specified when versioned_expr is set to FIREWALL.
              items:
                type: string
              type: array
          type: object
        SecurityPolicyRuleRateLimitOptions:
          id: SecurityPolicyRuleRateLimitOptions
          properties:
            blockDuration:
              description: Can only be specifed if the action for the rule is "rate_based_blacklist"
                If specified, determines the time (in seconds) the traffic will continue
                to be blocked by the rate limit after the rate falls below the threshold.
                The default value is 0 seconds.
              format: int32
              type: integer
            conformAction:
              description: Action to take when requests are under the given threshold.
                When requests are throttled, this is also the action for all requests
                which are not dropped. Valid options are "allow", "fairshare", and
                "drop_overload".
              type: string
            enforceOnKey:
              description: Determines the key to enforce the threshold_rps limit on.
                If key is "IP", each IP has this limit enforced separately, whereas
                "ALL_IPs" means a single limit is applied to all requests matching
                this rule.
              enum:
              - ALL_IPS
              - IP
              enumDescriptions:
              - ''
              - ''
              type: string
            exceedAction:
              description: When a request is denied, returns the HTTP response code
                specified. Valid options are "deny()" where valid values for status
                are 403, 404, 429, and 502.
              type: string
            thresholdRps:
              description: Rate in requests per second at which to begin ratelimiting.
              format: int32
              type: integer
          type: object
  selfLink: https://www.googleapis.com/deploymentmanager/v2beta/projects/gcp-types/global/typeProviders/compute-alpha/types/securityPolicies?alt=json
  title: Compute Engine API
